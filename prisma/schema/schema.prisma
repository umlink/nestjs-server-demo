generator client {
  provider        = "prisma-client-js"
  output          = "./client"
  previewFeatures = ["prismaSchemaFolder"]
  relationMode    = "prisma"
}

generator docs {
  provider = "node node_modules/prisma-docs-generator"
  output   = "./docs"
}

datasource db {
  provider     = "mysql"
  url          = env("DATABASE_URL")
  relationMode = "prisma"
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model InviteUser {
  id          Int      @id @default(autoincrement())
  inviteCode  String   @map("invite_code") @db.VarChar(32)
  initiatorId Int      @map("initiator_id")
  receiverId  Int      @map("receiver_id")
  createdAt   DateTime @default(now()) @map("created_at") @db.DateTime(0)
  updatedAt   DateTime @default(now()) @map("updated_at") @db.Timestamp(0)

  @@index([initiatorId], map: "invite_user_initiator_id_index")
  @@index([inviteCode], map: "invite_user_invite_code_index")
  @@index([receiverId], map: "invite_user_receiver_id_index")
  @@map("invite_user")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model ResumeTemplate {
  id        Int      @id @unique(map: "id") @default(autoincrement())
  code      String   @unique(map: "code") @db.VarChar(32)
  title     String   @db.VarChar(64)
  content   Json     @map("content")
  headerImg String?  @map("header_img") @db.VarChar(128)
  creatorId Int      @map("creator_id")
  useCount  Int      @default(0) @map("use_count")
  isVip     Int      @default(0) @map("is_vip") @db.TinyInt
  createdAt DateTime @default(now()) @map("created_at") @db.DateTime(0)
  updatedAt DateTime @default(now()) @map("updated_at") @db.Timestamp(0)

  @@index([creatorId], map: "resume_template_creator_id_index")
  @@map("resume_template")
}
